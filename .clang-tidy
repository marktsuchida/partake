# This file is part of the partake project
# Copyright 2020-2023 Board of Regents of the University of Wisconsin System
# SPDX-License-Identifier: BSD-2-Clause
---
Checks: >-
    -*,
    bugprone-*,
    clang-analyzer-*,
    clang-diagnostic-*,
    cppcoreguidelines-*,
    misc-*,
    modernize-*,
    performance-*,
    portability-*,
    readability-*,
    -bugprone-exception-escape,
    -bugprone-macro-parentheses,
    -clang-analyzer-cplusplus.NewDelete,
    -clang-analyzer-cplusplus.NewDeleteLeaks,
    -cppcoreguidelines-avoid-magic-numbers,
    -cppcoreguidelines-special-member-functions,
    -readability-braces-around-statements,
    -readability-container-contains,
    -readability-identifier-length,
    -readability-magic-numbers,

# Reasons for disabled checks:
# bugprone-exception-escape
#   We use noexcept to mark functions that do not attempt to propagate
#   exceptions, even if technically may throw (e.g., due to allocation
#   failure).
# bugprone-macro-parentheses
#   This check does not report the location of the macro in question, so hard
#   to fix. (Using --fix did not reveal anything useful.) As of LLVM 16.
# clang-analyzer-cplusplus.NewDelete
#   TODO
# clang-analyzer-cplusplus.NewDeleteLeaks
#   TODO
# cppcoreguidelines-avoid-magic-numbers
#   See readability-magic-numbers.
# cppcoreguidelines-special-member-functions
#   We use DesDeMovA style.
# readability-braces-around-statements
#   TODO Fix
# readability-container-contains
#   This check is for C++20+.
# readability-identifier-length
#   Short variable names are not always evil.
# readability-magic-numbers
#   Too many false positives.

CheckOptions:
  bugprone-easily-swappable-parameters.MinimumLength: 3
  misc-non-private-member-variables-in-classes.IgnoreClassesWithAllMemberVariablesBeingPublic: true
  readability-uppercase-literal-suffix.NewSuffixes: L;uL;LL;uLL
  readability-function-cognitive-complexity.IgnoreMacros: true
...
